{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mathe\\\\OneDrive\\\\Documentos\\\\Codigos\\\\Projeto-Site-Finan-as-main\\\\src\\\\contexts\\\\FinanceContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useEffect, useContext } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FinanceContext = /*#__PURE__*/createContext();\nexport function FinanceProvider({\n  children\n}) {\n  _s();\n  const [transactions, setTransactions] = useState(() => {\n    try {\n      const s = localStorage.getItem('mf_transactions');\n      return s ? JSON.parse(s) : [];\n    } catch {\n      return [];\n    }\n  });\n  const [accounts, setAccounts] = useState(() => {\n    try {\n      const s = localStorage.getItem('mf_accounts');\n      return s ? JSON.parse(s) : [{\n        id: 'wallet',\n        name: 'Carteira',\n        balance: 0\n      }];\n    } catch {\n      return [{\n        id: 'wallet',\n        name: 'Carteira',\n        balance: 0\n      }];\n    }\n  });\n  useEffect(() => {\n    try {\n      localStorage.setItem('mf_transactions', JSON.stringify(transactions));\n    } catch {}\n  }, [transactions]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('mf_accounts', JSON.stringify(accounts));\n    } catch {}\n  }, [accounts]);\n  function addTransaction({\n    type = 'expense',\n    amount = 0,\n    date = new Date().toISOString(),\n    category = 'Geral',\n    accountId = (_accounts$ => (_accounts$ = accounts[0]) === null || _accounts$ === void 0 ? void 0 : _accounts$.id)() || 'wallet',\n    note = ''\n  }) {\n    const t = {\n      id: uuidv4(),\n      type,\n      amount: Number(amount),\n      date,\n      category,\n      accountId,\n      note\n    };\n    setTransactions(p => [t, ...p]);\n    // Ajustar saldo da conta\n    setAccounts(p => p.map(a => a.id === accountId ? {\n      ...a,\n      balance: a.balance + (type === 'income' ? Number(amount) : -Number(amount))\n    } : a));\n    return t;\n  }\n  function removeTransaction(id) {\n    const tx = transactions.find(t => t.id === id);\n    if (tx) {\n      setAccounts(p => p.map(a => a.id === tx.accountId ? {\n        ...a,\n        balance: a.balance + (tx.type === 'income' ? -tx.amount : tx.amount)\n      } : a));\n    }\n    setTransactions(p => p.filter(t => t.id !== id));\n  }\n\n  // Adicionar conta\n  function addAccount({\n    name,\n    initialBalance = 0\n  }) {\n    const acc = {\n      id: uuidv4(),\n      name,\n      balance: Number(initialBalance)\n    };\n    setAccounts(p => [acc, ...p]);\n    return acc;\n  }\n\n  // Atualizar campos da conta\n  function updateAccount(id, patch) {\n    setAccounts(p => p.map(a => a.id === id ? {\n      ...a,\n      ...patch\n    } : a));\n  }\n\n  // Setar o saldo da conta diretamente\n  function setAccountBalance(id, newBalance) {\n    setAccounts(p => p.map(a => a.id === id ? {\n      ...a,\n      balance: Number(newBalance)\n    } : a));\n  }\n  return /*#__PURE__*/_jsxDEV(FinanceContext.Provider, {\n    value: {\n      transactions,\n      addTransaction,\n      removeTransaction,\n      accounts,\n      addAccount,\n      updateAccount,\n      setAccountBalance,\n      setAccounts\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(FinanceProvider, \"FqTMm56UPtJpRJuqBcdf5g64MjQ=\");\n_c = FinanceProvider;\nexport function useFinance() {\n  _s2();\n  const ctx = useContext(FinanceContext);\n  if (!ctx) throw new Error('useFinance must be inside FinanceProvider');\n  return ctx;\n}\n_s2(useFinance, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\nexport default FinanceContext;\nvar _c;\n$RefreshReg$(_c, \"FinanceProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","v4","uuidv4","jsxDEV","_jsxDEV","FinanceContext","FinanceProvider","children","_s","transactions","setTransactions","s","localStorage","getItem","JSON","parse","accounts","setAccounts","id","name","balance","setItem","stringify","addTransaction","type","amount","date","Date","toISOString","category","accountId","_accounts$","note","t","Number","p","map","a","removeTransaction","tx","find","filter","addAccount","initialBalance","acc","updateAccount","patch","setAccountBalance","newBalance","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useFinance","_s2","ctx","Error","$RefreshReg$"],"sources":["C:/Users/mathe/OneDrive/Documentos/Codigos/Projeto-Site-Finan-as-main/src/contexts/FinanceContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst FinanceContext = createContext();\r\n\r\nexport function FinanceProvider({ children }) {\r\n  const [transactions, setTransactions] = useState(() => {\r\n    try { const s = localStorage.getItem('mf_transactions'); return s ? JSON.parse(s) : []; } catch { return []; }\r\n  });\r\n\r\n  const [accounts, setAccounts] = useState(() => {\r\n    try { const s = localStorage.getItem('mf_accounts'); return s ? JSON.parse(s) : [{ id: 'wallet', name: 'Carteira', balance: 0 }]; } catch { return [{ id: 'wallet', name: 'Carteira', balance: 0 }]; }\r\n  });\r\n\r\n  useEffect(() => { try { localStorage.setItem('mf_transactions', JSON.stringify(transactions)); } catch {} }, [transactions]);\r\n  useEffect(() => { try { localStorage.setItem('mf_accounts', JSON.stringify(accounts)); } catch {} }, [accounts]);\r\n\r\n  function addTransaction({ type = 'expense', amount = 0, date = new Date().toISOString(), category = 'Geral', accountId = accounts[0]?.id || 'wallet', note = '' }) {\r\n    const t = { id: uuidv4(), type, amount: Number(amount), date, category, accountId, note };\r\n    setTransactions(p => [t, ...p]);\r\n    // Ajustar saldo da conta\r\n    setAccounts(p => p.map(a => a.id === accountId ? { ...a, balance: a.balance + (type === 'income' ? Number(amount) : -Number(amount)) } : a));\r\n    return t;\r\n  }\r\n\r\n  function removeTransaction(id){\r\n    const tx = transactions.find(t=>t.id===id);\r\n    if(tx){\r\n      setAccounts(p => p.map(a => a.id === tx.accountId ? { ...a, balance: a.balance + (tx.type === 'income' ? -tx.amount : tx.amount) } : a));\r\n    }\r\n    setTransactions(p => p.filter(t => t.id !== id));\r\n  }\r\n\r\n  // Adicionar conta\r\n  function addAccount({ name, initialBalance = 0 }){\r\n    const acc = { id: uuidv4(), name, balance: Number(initialBalance) };\r\n    setAccounts(p => [acc, ...p]);\r\n    return acc;\r\n  }\r\n\r\n  // Atualizar campos da conta\r\n  function updateAccount(id, patch){\r\n    setAccounts(p => p.map(a => a.id === id ? { ...a, ...patch } : a));\r\n  }\r\n\r\n  // Setar o saldo da conta diretamente\r\n  function setAccountBalance(id, newBalance){\r\n    setAccounts(p => p.map(a => a.id === id ? { ...a, balance: Number(newBalance) } : a));\r\n  }\r\n\r\n  return (\r\n    <FinanceContext.Provider value={{ transactions, addTransaction, removeTransaction, accounts, addAccount, updateAccount, setAccountBalance, setAccounts }}>\r\n      {children}\r\n    </FinanceContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useFinance(){ const ctx = useContext(FinanceContext); if(!ctx) throw new Error('useFinance must be inside FinanceProvider'); return ctx; }\r\n\r\nexport default FinanceContext;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}